(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{16:function(e,t,a){},22:function(e,t,a){e.exports=a(35)},27:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),s=a.n(c),o=(a(27),a(16),a(10)),i=a(4),l=a(18),u=a(3),p=a(14),d={messages:[],questionBank:[]},m=Object(i.combineReducers)({paras:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=e.messages,c=e.questionBank;switch(console.log(a,n),a){case"INPUT_SUCCESS":return r=[].concat(Object(p.a)(r),[{message:n,type:"user"}]),Object(u.a)(Object(u.a)({},e),{},{messages:r});case"INPUT_FAIL":return Object(u.a)({},e);case"SESSION_SUCCESS":return localStorage.setItem("session",n.session_id),Object(u.a)({},e);case"SESSION_FAIL":return Object(u.a)({},e);case"MESSAGE_SUCCESS":return r=[].concat(Object(p.a)(r),[{message:n,type:"bot"}]),Object(u.a)(Object(u.a)({},e),{},{messages:r});case"MESSAGE_FAIL":return Object(u.a)({},e);case"QUESTION_BANK_UPDATE":return c=n,Object(u.a)(Object(u.a)({},e),{},{questionBank:c});default:return Object(u.a)({},e)}}}),f=a(19),h=[l.a],b=Object(i.createStore)(m,{},Object(f.composeWithDevTools)(i.applyMiddleware.apply(void 0,h))),y=a(1),E=a.n(y),g=a(2),v=function(e){return function(){var t=Object(g.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"QUESTION_BANK_UPDATE",payload:e})}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=a(6),O=Object(o.b)((function(e){return{store_props:e.paras}}),{userMessage:function(e){return function(){var t=Object(g.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:"INPUT_SUCCESS",payload:e})}catch(n){console.log("dispatch failed",n),a({type:"INPUT_FAIL"})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},sendMessage:function(e){return function(){var t=Object(g.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{void 0!==e&&0!==e.length&&null!==e||(e="Cool!, I will keep that in mind"),a({type:"MESSAGE_SUCCESS",payload:e})}catch(n){a({type:"MESSAGE_FAIL"})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.store_props,a=e.userMessage,c=e.sendMessage,s=Object(n.useState)(""),o=Object(x.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(null),p=Object(x.a)(u,2),d=p[0],m=p[1],f=Object(n.useState)(null),h=Object(x.a)(f,2),b=h[0],y=h[1],v=Object(n.useRef)(null),O=t.messages,S=t.questionBank,j=function(e){if(c(e.question),"radio"===e.type){c("Please chose one");var t=e.options;Object.keys(t).forEach((function(e,a){var n=t[e];c(e+" - "+n)}))}else if("text"===e.type)c("Please write your response");else if("checkbox"===e.type){c("Please chose one");var a=e.options;Object.keys(a).forEach((function(e,t){var n=a[e];c(e+" - "+n)})),y(5)}},w=function(e){if(a(e),"radio"===d.type){var t=d.options,n=[];if(Object.keys(t).forEach((function(e,a){var r=t[e];n.push(r.toUpperCase())})),!n.includes(e.toUpperCase()))return c("Oops, I didn't get that...Silly me, Can you say that again"),void j(d)}c("Ooooo...."),c("That's a good choice"),N(e,b+1)},N=function(){var e=Object(g.a)(E.a.mark((function e(t,a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t,a),void 0!==(n=S[a])){e.next=7;break}return c("It was nice talking to you :D"),c("I am tired and gonna hit the bed, see you later..."),c("sayonara... :P"),e.abrupt("return");case 7:if(void 0===n.case){e.next=14;break}if(n.case.toUpperCase()!==t.toUpperCase()){e.next=13;break}return console.log(n),j(n),m(n),e.abrupt("return",null);case 13:N(t,a+1);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:13===(t.keyCode||t.which)&&k();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(g.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==d?w(i):(a(i),c()),l("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v.current.scrollIntoView({behavior:"smooth"})}),[O]),Object(n.useEffect)((function(){y(0),S.length>0&&(j(S[0]),m(S[0]))}),[S]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"box border rounded chat shadow-2xl"},r.a.createElement("div",{className:"mx-8"},r.a.createElement("div",{className:"mt-8 box border shadow-2xl shadow-inner rounded-lg"},r.a.createElement("div",{className:"bg-gray-200 m-2 historyContainer rounded-lg"},0===O.length?"":O.map((function(e,t){return function(e,t){return r.a.createElement("div",{key:e},"bot"===t.type?r.a.createElement("div",{className:"grid grid-cols-12 grid-flow-col"},r.a.createElement("span",{className:""},r.a.createElement("img",{className:"p-1 border-solid rounded border border-teal-400",style:{height:"35px"},src:"https://img.icons8.com/plasticine/100/000000/bot.png",alt:"bot"})),r.a.createElement("span",{className:"col-span-11"},r.a.createElement("div",{className:t.type},t.message))):r.a.createElement("div",{className:"grid grid-cols-12 grid-flow-col"},r.a.createElement("span",{className:"col-span-11"},r.a.createElement("div",{className:t.type},t.message)),r.a.createElement("span",{className:"py-2 ml-2 text-right"},r.a.createElement("img",{style:{height:"35px"},src:"https://img.icons8.com/color/48/000000/circled-user-male-skin-type-4.png",alt:"user"}))))}(t,e)})),r.a.createElement("div",{ref:v}))),r.a.createElement("div",{className:"flex justify-between my-2"},r.a.createElement("div",{className:"box border my-2 w-3/4"},r.a.createElement("input",{className:"w-full p-2 bg-gray-200 shadow-2xl shadow-inner",id:"chatbot",onChange:function(e){return l(e.target.value)},onKeyPress:C,value:i})),r.a.createElement("div",{onClick:k,className:"box border rounded-sm text-center shadow shadow-2xl cursor-pointer ml-4 my-2 w-1/4 bg-gray-400 "},r.a.createElement("div",{className:"my-2 hover:underline"},"SEND"))))))})),S=a(21),j=a(20),w=a.n(j),N=[{name:"init",question:"Choose Case",type:"radio",options:{A:"A",B:"B",C:"C"}},{case:"A",question:"Why did you choose A?",type:"text"},{case:"B",question:"Why did you choose B?||Why not A or C?",type:"text"},{case:"C",question:"Why did you choose C?",type:"checkbox",options:{a:"cat",b:"camel",c:"cuckoo"}}],C=function(e){var t=Object(n.useState)(N),a=Object(x.a)(t,2),c=a[0],s=a[1],o=function(){var t=Object(g.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.questionBankChange(c);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"box border rounded flex flex-col shadow shadow-2xl"},r.a.createElement("div",{className:"text-left"},r.a.createElement(S.a,{id:"json_box",placeholder:N,colors:{string:"#DAA520"},locale:w.a,height:"550px",theme:"light_mitsuketa_tribute",width:"100%",onChange:function(e){console.log(e.jsObject),s(e.jsObject)}}))),r.a.createElement("div",{className:"flex justify-center px-4 py-4"},r.a.createElement("div",{onClick:o,className:"box border shadow-2xl hover:underline rounded-sm text-center cursor-pointer text-sm text-white bg-secondary px-8 py-2"},"INITIATE CHATTY")))},k=function(){var e=function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.dispatch(v(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:"text-3xl px-12 pt-4 text-blue-700"},"ChatbotX"),r.a.createElement("div",{className:"flex px-12 bg-grey-lightest font-sans"},r.a.createElement("div",{className:"w-1/2"},r.a.createElement("div",{className:"py-2 text-lg"},"JSON"),r.a.createElement("div",{className:""},r.a.createElement(C,{questionBankChange:e}))),r.a.createElement("div",{className:"w-1/2 ml-16"},r.a.createElement("div",{className:"py-2 text-lg"},"Chatty"),r.a.createElement(O,null))))},I=function(){return Object(n.useEffect)((function(){localStorage.session||b.dispatch(function(){var e=Object(g.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"SESSION_SUCCESS",payload:{session_id:"123abcd"}})}catch(a){t({type:"SESSION_FAIL"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),r.a.createElement(o.a,{store:b},r.a.createElement("div",{className:"bg-gray-200 pb-24"},r.a.createElement(k,null)))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.4172c08c.chunk.js.map